{"ast":null,"code":"import _slicedToArray from\"/Users/rosaberned/Desktop/EVALUACION-FINAL-MODULO-3/modulo-3-evaluacion-final-RosaBF/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Route,Switch}from'react-router-dom';import logo from'../images/logo.png';import'../stylesheets/App.scss';import getDataFromApi from'../services/api';import CharacterList from'./CharacterList';import FilterByName from'./FilterByName';import localS from'../services/local-storaje';import Filters from'./Filters';import CharacterDetail from'./CharacterDetail';import{logDOM}from'@testing-library/react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(localS.get('characters',[])),_useState2=_slicedToArray(_useState,2),characters=_useState2[0],setCharacters=_useState2[1];var _useState3=useState(localS.get('filterName','')),_useState4=_slicedToArray(_useState3,2),filterName=_useState4[0],setFilterName=_useState4[1];//Fetch\nuseEffect(function(){getDataFromApi().then(function(characters){setCharacters(characters);});},[]);//Local Storage\nuseEffect(function(){localS.set('characters',characters);},[characters]);useEffect(function(){localS.set('filterName',filterName);},[filterName]);//HandleEvents/\nvar handleFilterName=function handleFilterName(data){if(data.key==='name'){setFilterName(data.value);}};//filters\nvar filteredCharacters=characters.filter(function(character){return character.name.toLowerCase().includes(filterName.toLowerCase());});//render\nvar renderCharacterDetail=function renderCharacterDetail(props){console.log('Router props',props);var routeCharacterId=parseInt(props.match.params.characterId);var foundCharacter=characters.find(function(character){return character.id===routeCharacterId;});if(foundCharacter!==undefined){return/*#__PURE__*/_jsx(CharacterDetail,{character:foundCharacter});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"img-container\",children:/*#__PURE__*/_jsx(\"img\",{className:\"title-logo\",src:logo})}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsxs(Route,{exact:true,path:\"/\",children:[/*#__PURE__*/_jsx(Filters,{filterName:filterName,handleFilterName:handleFilterName}),/*#__PURE__*/_jsx(\"div\",{className:\"col1\",children:filteredCharacters.length>0?/*#__PURE__*/_jsx(CharacterList,{characters:filteredCharacters}):/*#__PURE__*/_jsx(\"p\",{className:\"not-found\",children:\"Character not found\"})})]}),/*#__PURE__*/_jsx(Route,{path:\"/character/:characterId\",render:renderCharacterDetail})]})]});};export default App;","map":{"version":3,"sources":["/Users/rosaberned/Desktop/EVALUACION-FINAL-MODULO-3/modulo-3-evaluacion-final-RosaBF/src/components/App.js"],"names":["React","useState","useEffect","Route","Switch","logo","getDataFromApi","CharacterList","FilterByName","localS","Filters","CharacterDetail","logDOM","App","get","characters","setCharacters","filterName","setFilterName","then","set","handleFilterName","data","key","value","filteredCharacters","filter","character","name","toLowerCase","includes","renderCharacterDetail","props","console","log","routeCharacterId","parseInt","match","params","characterId","foundCharacter","find","id","undefined","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport logo from '../images/logo.png';\nimport '../stylesheets/App.scss';\nimport getDataFromApi from '../services/api';\nimport CharacterList from './CharacterList';\nimport FilterByName from './FilterByName';\nimport localS from '../services/local-storaje';\nimport Filters from './Filters';\nimport CharacterDetail from './CharacterDetail';\nimport { logDOM } from '@testing-library/react';\n\nconst App = () => {\n  const [characters, setCharacters] = useState(localS.get('characters', []));\n  const [filterName, setFilterName] = useState(localS.get('filterName', ''));\n\n  //Fetch\n  useEffect(() => {\n    getDataFromApi().then((characters) => {\n      setCharacters(characters);\n    });\n  }, []);\n\n  //Local Storage\n\n  useEffect(() => {\n    localS.set('characters', characters);\n  }, [characters]);\n\n  useEffect(() => {\n    localS.set('filterName', filterName);\n  }, [filterName]);\n\n  //HandleEvents/\n\n  const handleFilterName = (data) => {\n    if (data.key === 'name') {\n      setFilterName(data.value);\n    }\n  };\n  //filters\n  const filteredCharacters = characters.filter((character) => {\n    return character.name.toLowerCase().includes(filterName.toLowerCase());\n  });\n\n  //render\n  const renderCharacterDetail = (props) => {\n    console.log('Router props', props);\n    const routeCharacterId = parseInt(props.match.params.characterId);\n    const foundCharacter = characters.find((character) => {\n      return character.id === routeCharacterId;\n    });\n\n    if (foundCharacter !== undefined) {\n      return <CharacterDetail character={foundCharacter} />;\n    }\n  };\n\n  return (\n    <>\n      <div className='img-container'>\n        <img className='title-logo' src={logo} />\n      </div>\n\n      <Switch>\n        <Route exact path='/'>\n          <Filters\n            filterName={filterName}\n            handleFilterName={handleFilterName}\n          />\n          <div className='col1'>\n            {filteredCharacters.length > 0 ? (\n              <CharacterList characters={filteredCharacters} />\n            ) : (\n              <p className='not-found'>Character not found</p>\n            )}\n          </div>\n        </Route>\n\n        <Route path='/character/:characterId' render={renderCharacterDetail} />\n      </Switch>\n    </>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}